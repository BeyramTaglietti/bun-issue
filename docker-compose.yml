services:
  # api:
  #   build:
  #     context: .
  #     dockerfile: apps/api/Dockerfile
  #   container_name: bun-issue-api
  #   ports:
  #     - "3000:3000"
  #   restart: unless-stopped
  #   environment:
  #     - NODE_ENV=production
  web:
    build:
      context: .
      dockerfile: apps/web/Dockerfile
    container_name: bun-issue-web-builder
    volumes:
      - web-dist:/app/apps/web/dist
    restart: "no"
#   caddy:
#     image: caddy:2.7-alpine
#     container_name: bun-issue-caddy
#     ports:
#       - "5173:5173"
#     volumes:
#       - web-dist:/app/dist:ro
#       - ./Caddyfile:/etc/caddy/Caddyfile:ro
#     depends_on:
#       - web
#     restart: unless-stopped

volumes:
  web-dist:
